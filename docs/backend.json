
{
  "entities": {
    "User": {
      "title": "User",
      "type": "object",
      "description": "Represents a user of the StudyParadox application.",
      "properties": {
        "id": { "type": "string" },
        "email": { "type": "string", "format": "email" },
        "displayName": { "type": "string" },
        "photoUrl": { "type": "string", "format": "uri" }
      },
      "required": ["id", "email", "displayName"]
    },
    "Room": {
      "title": "Room",
      "type": "object",
      "description": "A study room for collaboration.",
      "properties": {
        "id": { "type": "string" },
        "name": { "type": "string" },
        "topic": { "type": "string" },
        "creatorId": { "type": "string" },
        "creatorName": { "type": "string" },
        "createdAt": { "type": "string", "format": "date-time" },
        "password": { "type": "string", "description": "Optional password for private entry." }
      },
      "required": ["id", "name", "topic", "creatorId"]
    },
    "Participant": {
      "title": "Participant",
      "type": "object",
      "description": "A user currently in a room.",
      "properties": {
        "userId": { "type": "string" },
        "name": { "type": "string" },
        "photoUrl": { "type": "string" },
        "isMuted": { "type": "boolean" },
        "isCameraOff": { "type": "boolean" },
        "joinedAt": { "type": "string", "format": "date-time" }
      },
      "required": ["userId", "name"]
    },
    "Message": {
      "title": "Message",
      "type": "object",
      "description": "A chat message within a room.",
      "properties": {
        "id": { "type": "string" },
        "text": { "type": "string" },
        "senderId": { "type": "string" },
        "senderName": { "type": "string" },
        "timestamp": { "type": "string", "format": "date-time" }
      },
      "required": ["text", "senderId", "senderName"]
    }
  },
  "auth": {
    "providers": ["google"]
  },
  "firestore": {
    "/users/{userId}": {
      "schema": "#/backend/entities/User",
      "description": "User profiles."
    },
    "/rooms/{roomId}": {
      "schema": "#/backend/entities/Room",
      "description": "Publicly accessible study rooms."
    },
    "/rooms/{roomId}/participants/{participantId}": {
      "schema": "#/backend/entities/Participant",
      "description": "Active participants in a room."
    },
    "/rooms/{roomId}/messages/{messageId}": {
      "schema": "#/backend/entities/Message",
      "description": "Real-time chat messages."
    }
  }
}
